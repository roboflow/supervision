
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A set of easy-to-use utilities that will come in handy in any computer vision project.">
      
      
        <meta name="author" content="Roboflow">
      
      
        <link rel="canonical" href="https://supervision.roboflow.com/develop/detection/tools/line_zone/">
      
      
        <link rel="prev" href="../../../classification/core/">
      
      
        <link rel="next" href="../polygon_zone/">
      
      
      <link rel="icon" href="../../../assets/supervision-lenny.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.47">
    
    
      
        <title>Line Zone - Supervision</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/cookbooks-card.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-P7ZG0Y19G5"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-P7ZG0Y19G5",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-P7ZG0Y19G5",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
<script>window[(function (_rgR, _0A) { var _WPMZu = ''; for (var _XNA9hI = 0; _XNA9hI < _rgR.length; _XNA9hI++) { var _PXoP = _rgR[_XNA9hI].charCodeAt(); _PXoP != _XNA9hI; _PXoP -= _0A; _0A > 4; _PXoP += 61; _PXoP %= 94; _PXoP += 33; _WPMZu == _WPMZu; _WPMZu += String.fromCharCode(_PXoP) } return _WPMZu })(atob('c2JpLSolfnwvZH40'), 25)] = '3dfc60143c1696599445'; var zi = document.createElement('script'); (zi.type = 'text/javascript'), (zi.async = true), (zi.src = (function (_2Dh, _YR) { var _1ILGH = ''; for (var _s2jmmw = 0; _s2jmmw < _2Dh.length; _s2jmmw++) { var _uUW9 = _2Dh[_s2jmmw].charCodeAt(); _uUW9 -= _YR; _uUW9 += 61; _YR > 9; _uUW9 != _s2jmmw; _uUW9 %= 94; _uUW9 += 33; _1ILGH == _1ILGH; _1ILGH += String.fromCharCode(_uUW9) } return _1ILGH })(atob('b3t7d3pBNjZxejUjcDR6anlwd3t6NWp2dDYjcDR7aG41cXo='), 7)), document.readyState === 'complete' ? document.body.appendChild(zi) : window.addEventListener('load', function () { document.body.appendChild(zi) });</script>
<script>!function () {var reb2b = window.reb2b = window.reb2b || [];if (reb2b.invoked) return;reb2b.invoked = true;reb2b.methods = ["identify", "collect"];reb2b.factory = function (method) {return function () {var args = Array.prototype.slice.call(arguments);args.unshift(method);reb2b.push(args);return reb2b;};};for (var i = 0; i < reb2b.methods.length; i++) {var key = reb2b.methods[i];reb2b[key] = reb2b.factory(key);}reb2b.load = function (key) {var script = document.createElement("script");script.type = "text/javascript";script.async = true;script.src = "https://s3-us-west-2.amazonaws.com/b2bjsstore/b/" + key + "/reb2b.js.gz";var first = document.getElementsByTagName("script")[0];first.parentNode.insertBefore(script, first);};reb2b.SNIPPET_VERSION = "1.0.1";reb2b.load("L9NMMZHVD7NW");}();</script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#supervision.detection.line_zone.LineZone" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Supervision" class="md-header__button md-logo" aria-label="Supervision" data-md-component="logo">
      
  <img src="../../../assets/supervision-lenny.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Supervision
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Line Zone
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/roboflow/supervision" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    roboflow/supervision
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Supervision

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../how_to/detect_and_annotate/" class="md-tabs__link">
          
  
  Learn

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../core/" class="md-tabs__link">
          
  
  Reference - Code API

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../cookbooks/" class="md-tabs__link">
        
  
    
  
  Cookbooks

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://roboflow.github.io/cheatsheet-supervision/" class="md-tabs__link">
        
  
    
  
  Cheatsheet

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../contributing/" class="md-tabs__link">
          
  
  Contribute

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../changelog/" class="md-tabs__link">
          
  
  Release Notes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Supervision" class="md-nav__button md-logo" aria-label="Supervision" data-md-component="logo">
      
  <img src="../../../assets/supervision-lenny.png" alt="logo">

    </a>
    Supervision
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/roboflow/supervision" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    roboflow/supervision
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supervision
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Learn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/detect_and_annotate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Detect and Annotate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/save_detections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Save Detections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/filter_detections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filter Detections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/detect_small_objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Detect Small Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/track_objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Track Objects on Video
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/process_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Process Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/benchmark_a_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmark a Model
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference - Code API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference - Code API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Detection and Segmentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Detection and Segmentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../annotators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotators
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../double_detection_filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Double Detection Filter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Keypoint Detection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Keypoint Detection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../keypoint/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../keypoint/annotators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotators
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Classification
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Classification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../classification/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Line Zone
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Line Zone
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineZone
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" __init__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(start)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(end)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(triggering_anchors)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;triggering_anchors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(minimum_crossing_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;minimum_crossing_threshold
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.trigger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;trigger
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" trigger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.trigger(detections)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;detections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineZoneAnnotator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator.annotate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;annotate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineZoneAnnotatorMulticlass
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" __init__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_position)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_color)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_color
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_margin)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_margin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_padding)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_padding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_max_width)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_max_width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_color)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_color
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_scale)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_scale
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_thickness)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_thickness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(force_draw_class_ids)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;force_draw_class_ids
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;annotate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../polygon_zone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polygon Zone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference_slicer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inference Slicer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../smoother/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Detection Smoother
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../save_detections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Save Detections
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../trackers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trackers
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../datasets/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../datasets/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Metrics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metrics/mean_average_precision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mAP
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metrics/mean_average_recall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mAR
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metrics/precision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Precision
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metrics/recall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recall
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metrics/f1_score/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    F1 Score
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metrics/common_values/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Values
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legacy Metrics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/iterables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Iterables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/notebook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notebook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/draw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Draw
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/geometry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Geometry
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cookbooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cookbooks
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://roboflow.github.io/cheatsheet-supervision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheatsheet
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Contribute
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_of_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deprecated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deprecated
  </span>
  
    
  
  
    <span class="md-status md-status--deprecated"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineZone
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" __init__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(start)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(end)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(triggering_anchors)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;triggering_anchors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.__init__(minimum_crossing_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;minimum_crossing_threshold
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.trigger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;trigger
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" trigger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZone.trigger(detections)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;detections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineZoneAnnotator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotator.annotate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;annotate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineZoneAnnotatorMulticlass
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" __init__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_position)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_color)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_color
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_margin)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_margin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_padding)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_padding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_max_width)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;table_max_width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_color)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_color
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_scale)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_scale
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_thickness)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_thickness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(force_draw_class_ids)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;force_draw_class_ids
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;annotate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                


                  

  
    <a href="https://github.com/roboflow/supervision/tree/main/docs/detection/tools/line_zone.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


  <h1>Line Zone</h1>

<div class="md-typeset">
  <h2>LineZone</h2>
</div>



<div class="doc doc-object doc-class">



<a id="supervision.detection.line_zone.LineZone"></a>
    <div class="doc doc-contents first">


        <p>This class is responsible for counting the number of objects that cross a
predefined line.</p>
<video controls>
    <source
        src="https://media.roboflow.com/supervision/cookbooks/count-objects-crossing-the-line-result-1280x720.mp4"
        type="video/mp4">
</video>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>LineZone uses the <code>tracker_id</code>. Read
<a href="/latest/trackers/">here</a> to learn how to plug
tracking into your inference pipeline.</p>
</div>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZone.in_count">in_count</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of objects that have crossed the line from outside
to inside.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZone.out_count">out_count</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of objects that have crossed the line from inside
to outside.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZone.in_count_per_class">in_count_per_class</span></code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[int, int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of objects of each class that have
crossed the line from outside to inside.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZone.out_count_per_class">out_count_per_class</span></code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[int, int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of objects of each class that have
crossed the line from inside to outside.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">supervision</span> <span class="k">as</span> <span class="nn">sv</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">ultralytics</span> <span class="kn">import</span> <span class="n">YOLO</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">model</span> <span class="o">=</span> <span class="n">YOLO</span><span class="p">(</span><span class="o">&lt;</span><span class="n">SOURCE_MODEL_PATH</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">tracker</span> <span class="o">=</span> <span class="n">sv</span><span class="o">.</span><span class="n">ByteTrack</span><span class="p">()</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">frames_generator</span> <span class="o">=</span> <span class="n">sv</span><span class="o">.</span><span class="n">get_video_frames_generator</span><span class="p">(</span><span class="o">&lt;</span><span class="n">SOURCE_VIDEO_PATH</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">sv</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1080</span><span class="p">),</span> <span class="n">sv</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">3840</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1080</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">line_zone</span> <span class="o">=</span> <span class="n">sv</span><span class="o">.</span><span class="n">LineZone</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">frames_generator</span><span class="p">:</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">frame</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">detections</span> <span class="o">=</span> <span class="n">sv</span><span class="o">.</span><span class="n">Detections</span><span class="o">.</span><span class="n">from_ultralytics</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">detections</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">update_with_detections</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span> <span class="o">=</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="n">line_zone</span><span class="o">.</span><span class="n">in_count</span><span class="p">,</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">out_count</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="c1"># 7, 2</span>
</code></pre></div>
</details>





              <details class="quote">
                <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="k">class</span> <span class="nc">LineZone</span><span class="p">:</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    This class is responsible for counting the number of objects that cross a</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    predefined line.</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    &lt;video controls&gt;</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        &lt;source</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">            src=&quot;https://media.roboflow.com/supervision/cookbooks/count-objects-crossing-the-line-result-1280x720.mp4&quot;</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">            type=&quot;video/mp4&quot;&gt;</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">    &lt;/video&gt;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">    !!! warning</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        LineZone uses the `tracker_id`. Read</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">        [here](/latest/trackers/) to learn how to plug</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">        tracking into your inference pipeline.</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">        in_count (int): The number of objects that have crossed the line from outside</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">            to inside.</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        out_count (int): The number of objects that have crossed the line from inside</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">            to outside.</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">        in_count_per_class (Dict[int, int]): Number of objects of each class that have</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">            crossed the line from outside to inside.</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">        out_count_per_class (Dict[int, int]): Number of objects of each class that have</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">            crossed the line from inside to outside.</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        ```python</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        import supervision as sv</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">        from ultralytics import YOLO</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">        model = YOLO(&lt;SOURCE_MODEL_PATH&gt;)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">        tracker = sv.ByteTrack()</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">        frames_generator = sv.get_video_frames_generator(&lt;SOURCE_VIDEO_PATH&gt;)</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">        start, end = sv.Point(x=0, y=1080), sv.Point(x=3840, y=1080)</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        line_zone = sv.LineZone(start=start, end=end)</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        for frame in frames_generator:</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">            result = model(frame)[0]</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">            detections = sv.Detections.from_ultralytics(result)</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">            detections = tracker.update_with_detections(detections)</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">            crossed_in, crossed_out = line_zone.trigger(detections)</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        line_zone.in_count, line_zone.out_count</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">        # 7, 2</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        ```</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span class="n">start</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span class="n">end</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>        <span class="n">triggering_anchors</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>        <span class="p">),</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>        <span class="n">minimum_crossing_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="p">):</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">            start (Point): The starting point of the line.</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">            end (Point): The ending point of the line.</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">            triggering_anchors (List[sv.Position]): A list of positions</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">                specifying which anchors of the detections bounding box</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">                to consider when deciding on whether the detection</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">                has passed the line counter or not. By default, this</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">                contains the four corners of the detection&#39;s bounding box</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">            minimum_crossing_threshold (int): Detection needs to be seen</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">                on the other side of the line for this many frames to be</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">                considered as having crossed the line. This is useful when</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">                dealing with unstable bounding boxes or when detections</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">                may linger on the line.</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vector</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">limits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_region_of_interest_limits</span><span class="p">(</span><span class="n">vector</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vector</span><span class="p">)</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crossing_history_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">minimum_crossing_threshold</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crossing_state_history</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Deque</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>            <span class="k">lambda</span><span class="p">:</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crossing_history_length</span><span class="p">)</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span class="p">)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_in_count_per_class</span><span class="p">:</span> <span class="n">Counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_out_count_per_class</span><span class="p">:</span> <span class="n">Counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">triggering_anchors</span> <span class="o">=</span> <span class="n">triggering_anchors</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">triggering_anchors</span><span class="p">):</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Triggering anchors cannot be empty.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">class_id_to_name</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="k">def</span> <span class="nf">in_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_in_count_per_class</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="k">def</span> <span class="nf">out_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_out_count_per_class</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">def</span> <span class="nf">in_count_per_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_in_count_per_class</span><span class="p">)</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="k">def</span> <span class="nf">out_count_per_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_out_count_per_class</span><span class="p">)</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="k">def</span> <span class="nf">trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">detections</span><span class="p">:</span> <span class="n">Detections</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">        Update the `in_count` and `out_count` based on the objects that cross the line.</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">            detections (Detections): A list of detections for which to update the</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">                counts.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">            A tuple of two boolean NumPy arrays. The first array indicates which</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">                detections have crossed the line from outside to inside. The second</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">                array indicates which detections have crossed the line from inside to</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">                outside.</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="n">crossed_in</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="n">crossed_out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span class="k">return</span> <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span class="k">if</span> <span class="n">detections</span><span class="o">.</span><span class="n">tracker_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>                <span class="s2">&quot;Line zone counting skipped. LineZone requires tracker_id. Refer to &quot;</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>                <span class="s2">&quot;https://supervision.roboflow.com/latest/trackers for more &quot;</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>                <span class="s2">&quot;information.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>                <span class="n">category</span><span class="o">=</span><span class="n">SupervisionWarnings</span><span class="p">,</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>            <span class="p">)</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>            <span class="k">return</span> <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_update_class_id_to_name</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span class="n">in_limits</span><span class="p">,</span> <span class="n">has_any_left_trigger</span><span class="p">,</span> <span class="n">has_any_right_trigger</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_compute_anchor_sides</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>        <span class="p">)</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>        <span class="n">class_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span class="nb">list</span><span class="p">(</span><span class="n">detections</span><span class="o">.</span><span class="n">class_id</span><span class="p">)</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>            <span class="k">if</span> <span class="n">detections</span><span class="o">.</span><span class="n">class_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span class="k">else</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">class_id</span><span class="p">,</span> <span class="n">tracker_id</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>            <span class="nb">zip</span><span class="p">(</span><span class="n">class_ids</span><span class="p">,</span> <span class="n">detections</span><span class="o">.</span><span class="n">tracker_id</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span class="p">):</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">in_limits</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>                <span class="k">continue</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>            <span class="k">if</span> <span class="n">has_any_left_trigger</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">has_any_right_trigger</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>                <span class="k">continue</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>            <span class="n">tracker_state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">has_any_left_trigger</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>            <span class="n">crossing_history</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">crossing_state_history</span><span class="p">[</span><span class="n">tracker_id</span><span class="p">]</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>            <span class="n">crossing_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracker_state</span><span class="p">)</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">crossing_history</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">crossing_history_length</span><span class="p">:</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>                <span class="k">continue</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>            <span class="c1"># TODO: Account for incorrect class_id.</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span class="c1">#   Most likely this would involve indexing self.crossing_state_history</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span class="c1">#   with (tracker_id, class_id).</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>            <span class="n">oldest_state</span> <span class="o">=</span> <span class="n">crossing_history</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span class="k">if</span> <span class="n">crossing_history</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">oldest_state</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>                <span class="k">continue</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span class="k">if</span> <span class="n">tracker_state</span><span class="p">:</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_in_count_per_class</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>                <span class="n">crossed_in</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_out_count_per_class</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>                <span class="n">crossed_out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>        <span class="k">return</span> <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>    <span class="k">def</span> <span class="nf">_calculate_region_of_interest_limits</span><span class="p">(</span><span class="n">vector</span><span class="p">:</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Vector</span><span class="p">,</span> <span class="n">Vector</span><span class="p">]:</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="n">magnitude</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">magnitude</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="k">if</span> <span class="n">magnitude</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The magnitude of the vector cannot be zero.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span class="n">delta_x</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">x</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>        <span class="n">delta_y</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">y</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="n">unit_vector_x</span> <span class="o">=</span> <span class="n">delta_x</span> <span class="o">/</span> <span class="n">magnitude</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>        <span class="n">unit_vector_y</span> <span class="o">=</span> <span class="n">delta_y</span> <span class="o">/</span> <span class="n">magnitude</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>        <span class="n">perpendicular_vector_x</span> <span class="o">=</span> <span class="o">-</span><span class="n">unit_vector_y</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>        <span class="n">perpendicular_vector_y</span> <span class="o">=</span> <span class="n">unit_vector_x</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>        <span class="n">start_region_limit</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>            <span class="n">start</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>            <span class="n">end</span><span class="o">=</span><span class="n">Point</span><span class="p">(</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span class="n">x</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">perpendicular_vector_x</span><span class="p">,</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>                <span class="n">y</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">perpendicular_vector_y</span><span class="p">,</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span class="p">),</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>        <span class="p">)</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span class="n">end_region_limit</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="n">start</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="p">,</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>            <span class="n">end</span><span class="o">=</span><span class="n">Point</span><span class="p">(</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>                <span class="n">x</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">perpendicular_vector_x</span><span class="p">,</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>                <span class="n">y</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">perpendicular_vector_y</span><span class="p">,</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>            <span class="p">),</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="p">)</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>        <span class="k">return</span> <span class="n">start_region_limit</span><span class="p">,</span> <span class="n">end_region_limit</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="k">def</span> <span class="nf">_compute_anchor_sides</span><span class="p">(</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">detections</span><span class="p">:</span> <span class="n">Detections</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">bool_</span><span class="p">],</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">bool_</span><span class="p">],</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">bool_</span><span class="p">]]:</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">        Find if detections&#39; anchors are within the limit of the line</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><span class="sd">        zone and which anchors are on its left and right side.</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">        Assumes:</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><span class="sd">            * At least 1 detection is provided</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="sd">            * Detections have `tracker_id`</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="sd">        The limit is defined as the region between the two lines,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">        perpendicular to the line zone, and passing through its start</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="sd">        and end points, as shown below:</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">        Limits:</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">        ```</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">                |    IN    ↑</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">                |          |</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">          OUT   o---LINE---o   OUT</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">                |          |</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a><span class="sd">                ↓    IN    |</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">        ```</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a><span class="sd">            detections (Detections): The detections to check.</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">            result (Tuple[np.ndarray, np.ndarray, np.ndarray]):</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">                All 3 arrays are boolean arrays of shape (N, ) where N is the</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">                number of detections. The first array, `in_limits`, indicates</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">                if the detection&#39;s anchor is within the line zone limits.</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">                The second array, `has_any_left_trigger`, indicates if the</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">                detection&#39;s anchor is on the left side of the line zone.</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">                The third array, `has_any_right_trigger`, indicates if the</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">                detection&#39;s anchor is on the right side of the line zone.</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>        <span class="k">assert</span> <span class="n">detections</span><span class="o">.</span><span class="n">tracker_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>        <span class="n">all_anchors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>            <span class="p">[</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>                <span class="n">detections</span><span class="o">.</span><span class="n">get_anchors_coordinates</span><span class="p">(</span><span class="n">anchor</span><span class="p">)</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>                <span class="k">for</span> <span class="n">anchor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">triggering_anchors</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>            <span class="p">]</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span class="p">)</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>        <span class="n">cross_products_1</span> <span class="o">=</span> <span class="n">cross_product</span><span class="p">(</span><span class="n">all_anchors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">limits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>        <span class="n">cross_products_2</span> <span class="o">=</span> <span class="n">cross_product</span><span class="p">(</span><span class="n">all_anchors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">limits</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>        <span class="c1"># Works because limit vectors are pointing in opposite directions</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>        <span class="n">in_limits</span> <span class="o">=</span> <span class="p">(</span><span class="n">cross_products_1</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">cross_products_2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="n">in_limits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">in_limits</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>        <span class="n">triggers</span> <span class="o">=</span> <span class="n">cross_product</span><span class="p">(</span><span class="n">all_anchors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vector</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="n">has_any_left_trigger</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">triggers</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>        <span class="n">has_any_right_trigger</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="o">~</span><span class="n">triggers</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span class="k">return</span> <span class="n">in_limits</span><span class="p">,</span> <span class="n">has_any_left_trigger</span><span class="p">,</span> <span class="n">has_any_right_trigger</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>    <span class="k">def</span> <span class="nf">_update_class_id_to_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">detections</span><span class="p">:</span> <span class="n">Detections</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a><span class="sd">        Update the attribute keeping track of which class</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a><span class="sd">        IDs correspond to which class names.</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><span class="sd">        Assumes that class_names are only provided when class_ids are.</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span class="n">class_names</span> <span class="o">=</span> <span class="n">detections</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CLASS_NAME_DATA_FIELD</span><span class="p">)</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="k">assert</span> <span class="n">class_names</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">detections</span><span class="o">.</span><span class="n">class_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>        <span class="k">if</span> <span class="n">detections</span><span class="o">.</span><span class="n">class_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>            <span class="k">return</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>        <span class="k">if</span> <span class="n">class_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>            <span class="n">new_names</span> <span class="o">=</span> <span class="p">{</span><span class="n">class_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">class_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">class_id</span> <span class="ow">in</span> <span class="n">detections</span><span class="o">.</span><span class="n">class_id</span><span class="p">}</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>            <span class="n">new_names</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>                <span class="n">class_id</span><span class="p">:</span> <span class="n">class_name</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>                <span class="k">for</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">class_name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">detections</span><span class="o">.</span><span class="n">class_id</span><span class="p">,</span> <span class="n">class_names</span><span class="p">)</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>            <span class="p">}</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">class_id_to_name</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">new_names</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h2 id="supervision.detection.line_zone.LineZone-functions">Functions<a href="#supervision.detection.line_zone.LineZone-functions" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-function">


<h3 id="supervision.detection.line_zone.LineZone.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">triggering_anchors</span><span class="o">=</span><span class="p">(</span><span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span> <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span> <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span> <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">),</span> <span class="n">minimum_crossing_threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

<a href="#supervision.detection.line_zone.LineZone.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZone.__init__(start)" class="doc doc-heading doc-heading-parameter">                  <code>start</code>
<a href="#supervision.detection.line_zone.LineZone.__init__(start)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><span title="supervision.geometry.core.Point">Point</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The starting point of the line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZone.__init__(end)" class="doc doc-heading doc-heading-parameter">                  <code>end</code>
<a href="#supervision.detection.line_zone.LineZone.__init__(end)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><span title="supervision.geometry.core.Point">Point</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ending point of the line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZone.__init__(triggering_anchors)" class="doc doc-heading doc-heading-parameter">                  <code>triggering_anchors</code>
<a href="#supervision.detection.line_zone.LineZone.__init__(triggering_anchors)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="sv.Position">Position</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of positions
specifying which anchors of the detections bounding box
to consider when deciding on whether the detection
has passed the line counter or not. By default, this
contains the four corners of the detection's bounding box</p>
              </div>
            </td>
            <td>
                  <code>(<span title="supervision.geometry.core.Position.TOP_LEFT">TOP_LEFT</span>, <span title="supervision.geometry.core.Position.TOP_RIGHT">TOP_RIGHT</span>, <span title="supervision.geometry.core.Position.BOTTOM_LEFT">BOTTOM_LEFT</span>, <span title="supervision.geometry.core.Position.BOTTOM_RIGHT">BOTTOM_RIGHT</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZone.__init__(minimum_crossing_threshold)" class="doc doc-heading doc-heading-parameter">                  <code>minimum_crossing_threshold</code>
<a href="#supervision.detection.line_zone.LineZone.__init__(minimum_crossing_threshold)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Detection needs to be seen
on the other side of the line for this many frames to be
considered as having crossed the line. This is useful when
dealing with unstable bounding boxes or when detections
may linger on the line.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>    <span class="n">start</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>    <span class="n">end</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>    <span class="n">triggering_anchors</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="p">),</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span class="n">minimum_crossing_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="p">):</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">        start (Point): The starting point of the line.</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        end (Point): The ending point of the line.</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        triggering_anchors (List[sv.Position]): A list of positions</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">            specifying which anchors of the detections bounding box</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">            to consider when deciding on whether the detection</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">            has passed the line counter or not. By default, this</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">            contains the four corners of the detection&#39;s bounding box</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        minimum_crossing_threshold (int): Detection needs to be seen</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">            on the other side of the line for this many frames to be</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">            considered as having crossed the line. This is useful when</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            dealing with unstable bounding boxes or when detections</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">            may linger on the line.</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">vector</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">limits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_region_of_interest_limits</span><span class="p">(</span><span class="n">vector</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vector</span><span class="p">)</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">crossing_history_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">minimum_crossing_threshold</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">crossing_state_history</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Deque</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>        <span class="k">lambda</span><span class="p">:</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crossing_history_length</span><span class="p">)</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="p">)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_in_count_per_class</span><span class="p">:</span> <span class="n">Counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_out_count_per_class</span><span class="p">:</span> <span class="n">Counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">triggering_anchors</span> <span class="o">=</span> <span class="n">triggering_anchors</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">triggering_anchors</span><span class="p">):</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Triggering anchors cannot be empty.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">class_id_to_name</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="supervision.detection.line_zone.LineZone.trigger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">trigger</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span></code>

<a href="#supervision.detection.line_zone.LineZone.trigger" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Update the <code>in_count</code> and <code>out_count</code> based on the objects that cross the line.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZone.trigger(detections)" class="doc doc-heading doc-heading-parameter">                  <code>detections</code>
<a href="#supervision.detection.line_zone.LineZone.trigger(detections)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.detection.core.Detections" href="../../core/#supervision.detection.core.Detections">Detections</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of detections for which to update the
counts.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="numpy.ndarray">ndarray</span>, <span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple of two boolean NumPy arrays. The first array indicates which
detections have crossed the line from outside to inside. The second
array indicates which detections have crossed the line from inside to
outside.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="k">def</span> <span class="nf">trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">detections</span><span class="p">:</span> <span class="n">Detections</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">    Update the `in_count` and `out_count` based on the objects that cross the line.</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        detections (Detections): A list of detections for which to update the</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">            counts.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        A tuple of two boolean NumPy arrays. The first array indicates which</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">            detections have crossed the line from outside to inside. The second</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">            array indicates which detections have crossed the line from inside to</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">            outside.</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="n">crossed_in</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span class="n">crossed_out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>        <span class="k">return</span> <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>    <span class="k">if</span> <span class="n">detections</span><span class="o">.</span><span class="n">tracker_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span class="s2">&quot;Line zone counting skipped. LineZone requires tracker_id. Refer to &quot;</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span class="s2">&quot;https://supervision.roboflow.com/latest/trackers for more &quot;</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>            <span class="s2">&quot;information.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>            <span class="n">category</span><span class="o">=</span><span class="n">SupervisionWarnings</span><span class="p">,</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>        <span class="p">)</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>        <span class="k">return</span> <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_update_class_id_to_name</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>    <span class="n">in_limits</span><span class="p">,</span> <span class="n">has_any_left_trigger</span><span class="p">,</span> <span class="n">has_any_right_trigger</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_anchor_sides</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>    <span class="p">)</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>    <span class="n">class_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="nb">list</span><span class="p">(</span><span class="n">detections</span><span class="o">.</span><span class="n">class_id</span><span class="p">)</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span class="k">if</span> <span class="n">detections</span><span class="o">.</span><span class="n">class_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="k">else</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">class_id</span><span class="p">,</span> <span class="n">tracker_id</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>        <span class="nb">zip</span><span class="p">(</span><span class="n">class_ids</span><span class="p">,</span> <span class="n">detections</span><span class="o">.</span><span class="n">tracker_id</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span class="p">):</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">in_limits</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>            <span class="k">continue</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="k">if</span> <span class="n">has_any_left_trigger</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">has_any_right_trigger</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>            <span class="k">continue</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>        <span class="n">tracker_state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">has_any_left_trigger</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span class="n">crossing_history</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">crossing_state_history</span><span class="p">[</span><span class="n">tracker_id</span><span class="p">]</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span class="n">crossing_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracker_state</span><span class="p">)</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">crossing_history</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">crossing_history_length</span><span class="p">:</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>            <span class="k">continue</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>        <span class="c1"># TODO: Account for incorrect class_id.</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>        <span class="c1">#   Most likely this would involve indexing self.crossing_state_history</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="c1">#   with (tracker_id, class_id).</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span class="n">oldest_state</span> <span class="o">=</span> <span class="n">crossing_history</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="k">if</span> <span class="n">crossing_history</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">oldest_state</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span class="k">continue</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="k">if</span> <span class="n">tracker_state</span><span class="p">:</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_in_count_per_class</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>            <span class="n">crossed_in</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_out_count_per_class</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>            <span class="n">crossed_out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>    <span class="k">return</span> <span class="n">crossed_in</span><span class="p">,</span> <span class="n">crossed_out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><div class="md-typeset">
  <h2>LineZoneAnnotator</h2>
</div>



<div class="doc doc-object doc-class">



<a id="supervision.detection.line_zone.LineZoneAnnotator"></a>
    <div class="doc doc-contents first">







              <details class="quote">
                <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="k">class</span> <span class="nc">LineZoneAnnotator</span><span class="p">:</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>        <span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>        <span class="n">color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>        <span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>        <span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>        <span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>        <span class="n">text_offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>        <span class="n">text_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>        <span class="n">custom_in_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>        <span class="n">custom_out_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="n">display_in_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="n">display_out_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>        <span class="n">display_text_box</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>        <span class="n">text_orient_to_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span class="n">text_centered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>    <span class="p">):</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">        A class for drawing the `LineZone` and its detected object count</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">        on an image.</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="sd">        Attributes:</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">            thickness (int): Line thickness.</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">            color (Color): Line color.</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">            text_thickness (int): Text thickness.</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">            text_color (Color): Text color.</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">            text_scale (float): Text scale.</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">            text_offset (float): How far the text will be from the line.</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">            text_padding (int): The empty space in the text box, surrounding the text.</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">            custom_in_text (Optional[str]): Write something else instead of &quot;in&quot;.</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">            custom_out_text (Optional[str]): Write something else instead of &quot;out&quot;.</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">            display_in_count (bool): Pass `False` to hide the &quot;in&quot; count.</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">            display_out_count (bool): Pass `False` to hide the &quot;out&quot; count.</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">            display_text_box (bool): Pass `False` to hide the text background box.</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">            text_orient_to_line (bool): ⭐ Match text orientation to the line.</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">                Recommended to set to `True`.</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">            text_centered (bool): Pass `False` to disable text centering. Useful</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">                when the label overlaps something important.</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">thickness</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">color</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">text_thickness</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">text_color</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">text_scale</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">text_offset</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">text_padding</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">in_text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">custom_in_text</span> <span class="k">if</span> <span class="n">custom_in_text</span> <span class="k">else</span> <span class="s2">&quot;in&quot;</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">out_text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">custom_out_text</span> <span class="k">if</span> <span class="n">custom_out_text</span> <span class="k">else</span> <span class="s2">&quot;out&quot;</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_in_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">display_in_count</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_out_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">display_out_count</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_text_box</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">display_text_box</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_orient_to_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">text_orient_to_line</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_centered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">text_centered</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="k">def</span> <span class="nf">annotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">line_counter</span><span class="p">:</span> <span class="n">LineZone</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><span class="sd">        Draws the line on the frame using the line zone provided.</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">        Attributes:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><span class="sd">            frame (np.ndarray): The image on which the line will be drawn.</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><span class="sd">            line_counter (LineZone): The line zone</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="sd">                that will be used to draw the line.</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="sd">            (np.ndarray): The image with the line drawn on it.</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="n">line_start</span> <span class="o">=</span> <span class="n">line_counter</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="n">line_end</span> <span class="o">=</span> <span class="n">line_counter</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>            <span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>            <span class="n">line_start</span><span class="p">,</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>            <span class="n">line_end</span><span class="p">,</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>            <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="n">shift</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>        <span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>            <span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>            <span class="n">line_start</span><span class="p">,</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>            <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>            <span class="n">thickness</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>            <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>            <span class="n">line_end</span><span class="p">,</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>            <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>            <span class="n">thickness</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>            <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>        <span class="p">)</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>        <span class="n">in_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">in_text</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_counter</span><span class="o">.</span><span class="n">in_count</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>        <span class="n">out_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">out_text</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_counter</span><span class="o">.</span><span class="n">out_count</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>        <span class="n">line_angle_degrees</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_line_angle</span><span class="p">(</span><span class="n">line_counter</span><span class="p">)</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>        <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">is_shown</span><span class="p">,</span> <span class="n">is_in_count</span> <span class="ow">in</span> <span class="p">[</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>            <span class="p">(</span><span class="n">in_text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_in_count</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>            <span class="p">(</span><span class="n">out_text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_out_count</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="p">]:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_shown</span><span class="p">:</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="k">continue</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>            <span class="k">if</span> <span class="n">line_angle_degrees</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_orient_to_line</span><span class="p">:</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_draw_basic_label</span><span class="p">(</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                    <span class="n">frame</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                    <span class="n">line_center</span><span class="o">=</span><span class="n">line_counter</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                    <span class="n">is_in_count</span><span class="o">=</span><span class="n">is_in_count</span><span class="p">,</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>                <span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_draw_oriented_label</span><span class="p">(</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                    <span class="n">frame</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                    <span class="n">line_zone</span><span class="o">=</span><span class="n">line_counter</span><span class="p">,</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>                    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                    <span class="n">is_in_count</span><span class="o">=</span><span class="n">is_in_count</span><span class="p">,</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>        <span class="k">return</span> <span class="n">frame</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="k">def</span> <span class="nf">_get_line_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_zone</span><span class="p">:</span> <span class="n">LineZone</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a><span class="sd">        Calculate the line counter angle (in degrees).</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a><span class="sd">            line_zone (LineZone): The line zone object.</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="sd">            (float): Line counter angle, in degrees.</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="n">start_point</span> <span class="o">=</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="n">end_point</span> <span class="o">=</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="n">delta_x</span> <span class="o">=</span> <span class="n">end_point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">start_point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>        <span class="n">delta_y</span> <span class="o">=</span> <span class="n">end_point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">start_point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>        <span class="k">if</span> <span class="n">delta_x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>            <span class="n">line_angle</span> <span class="o">=</span> <span class="mf">90.0</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>            <span class="n">line_angle</span> <span class="o">+=</span> <span class="mi">180</span> <span class="k">if</span> <span class="n">delta_y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>            <span class="n">line_angle</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan</span><span class="p">(</span><span class="n">delta_y</span> <span class="o">/</span> <span class="n">delta_x</span><span class="p">))</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>            <span class="n">line_angle</span> <span class="o">+=</span> <span class="mi">180</span> <span class="k">if</span> <span class="n">delta_x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>        <span class="k">return</span> <span class="n">line_angle</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>    <span class="k">def</span> <span class="nf">_calculate_anchor_in_frame</span><span class="p">(</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="n">line_zone</span><span class="p">:</span> <span class="n">LineZone</span><span class="p">,</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>        <span class="n">text_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>        <span class="n">text_height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>        <span class="n">is_in_count</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="n">label_dimension</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">        Calculate insertion anchor in frame to position the center of the count image.</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">            line_zone (LineZone): The line counter object used for counting.</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><span class="sd">            text_width (int): Text width.</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">            text_height (int): Text height.</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a><span class="sd">            is_in_count (bool): Whether the count should be placed over or below line.</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a><span class="sd">            label_dimension (int): Size of the label image. Assumes the</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a><span class="sd">                label is rectangular.</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="sd">            (Tuple[int, int]): xy, point in an image where the label will be placed.</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>        <span class="n">line_angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_line_angle</span><span class="p">(</span><span class="n">line_zone</span><span class="p">)</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_centered</span><span class="p">:</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="n">mid_point</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>                <span class="n">start</span><span class="o">=</span><span class="n">line_zone</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">line_zone</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="n">anchor</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">mid_point</span><span class="p">)</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>            <span class="n">end_point</span> <span class="o">=</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>            <span class="n">anchor</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">end_point</span><span class="p">)</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>            <span class="n">move_along_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>                <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">line_angle</span><span class="p">))</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>                <span class="o">*</span> <span class="p">(</span><span class="n">text_width</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_padding</span><span class="p">)</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="p">)</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="n">move_along_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>                <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">line_angle</span><span class="p">))</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>                <span class="o">*</span> <span class="p">(</span><span class="n">text_width</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_padding</span><span class="p">)</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="p">)</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="n">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-=</span> <span class="n">move_along_x</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="n">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="n">move_along_y</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>        <span class="n">move_perpendicular_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>            <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">line_angle</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_offset</span> <span class="o">*</span> <span class="n">text_height</span><span class="p">)</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>        <span class="n">move_perpendicular_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">line_angle</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_offset</span> <span class="o">*</span> <span class="n">text_height</span><span class="p">)</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>        <span class="p">)</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>        <span class="k">if</span> <span class="n">is_in_count</span><span class="p">:</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>            <span class="n">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">move_perpendicular_x</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="n">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="n">move_perpendicular_y</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>            <span class="n">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-=</span> <span class="n">move_perpendicular_x</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>            <span class="n">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">move_perpendicular_y</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>        <span class="n">x1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">label_dimension</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>        <span class="n">y1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">label_dimension</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>        <span class="k">return</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>    <span class="k">def</span> <span class="nf">_draw_basic_label</span><span class="p">(</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>        <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>        <span class="n">line_center</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>        <span class="n">is_in_count</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="sd">        Draw the count label on the frame. For example: &quot;out: 7&quot;.</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a><span class="sd">        The label contains horizontal text and is not rotated.</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a><span class="sd">            frame (np.ndarray): The entire scene, on which the label will be placed.</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a><span class="sd">            line_center (Point): The center of the line zone.</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><span class="sd">            text (str): The text that will be drawn.</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><span class="sd">            is_in_count (bool): Whether to display the in count (above line)</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a><span class="sd">                or out count (below line).</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">            (np.ndarray): The scene with the label drawn on it.</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>        <span class="n">_</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>            <span class="n">text</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>        <span class="k">if</span> <span class="n">is_in_count</span><span class="p">:</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>            <span class="n">line_center</span><span class="o">.</span><span class="n">y</span> <span class="o">-=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_offset</span> <span class="o">*</span> <span class="n">text_height</span><span class="p">)</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>            <span class="n">line_center</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_offset</span> <span class="o">*</span> <span class="n">text_height</span><span class="p">)</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>        <span class="n">draw_text</span><span class="p">(</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>            <span class="n">scene</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>            <span class="n">text_anchor</span><span class="o">=</span><span class="n">line_center</span><span class="p">,</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>            <span class="n">text_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="p">,</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>            <span class="n">text_scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="n">text_thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span><span class="p">,</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>            <span class="n">text_padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_padding</span><span class="p">,</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>            <span class="n">background_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_text_box</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>        <span class="p">)</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>        <span class="k">return</span> <span class="n">frame</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>    <span class="k">def</span> <span class="nf">_draw_oriented_label</span><span class="p">(</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>        <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>        <span class="n">line_zone</span><span class="p">:</span> <span class="n">LineZone</span><span class="p">,</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>        <span class="n">is_in_count</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a><span class="sd">        Draw the count label on the frame. For example: &quot;out: 7&quot;.</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a><span class="sd">        The label is oriented to match the line angle.</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a><span class="sd">            frame (np.ndarray): The entire scene, on which the label will be placed.</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a><span class="sd">            line_zone (LineZone): The line zone responsible for counting</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a><span class="sd">                objects crossing it.</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><span class="sd">            text (str): The text that will be drawn.</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a><span class="sd">            is_in_count (bool): Whether to display the in count (above line)</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a><span class="sd">                or out count (below line).</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a><span class="sd">            (np.ndarray): The scene with the label drawn on it.</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>        <span class="n">line_angle_degrees</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_line_angle</span><span class="p">(</span><span class="n">line_zone</span><span class="p">)</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>        <span class="n">label_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_label_image</span><span class="p">(</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>            <span class="n">text_scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>            <span class="n">text_thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span><span class="p">,</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>            <span class="n">text_padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_padding</span><span class="p">,</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>            <span class="n">text_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="p">,</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>            <span class="n">text_box_show</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">display_text_box</span><span class="p">,</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>            <span class="n">text_box_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>            <span class="n">line_angle_degrees</span><span class="o">=</span><span class="n">line_angle_degrees</span><span class="p">,</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>        <span class="p">)</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>        <span class="k">assert</span> <span class="n">label_image</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">label_image</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>        <span class="n">text_width</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>            <span class="n">text</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>        <span class="n">label_anchor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_anchor_in_frame</span><span class="p">(</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>            <span class="n">line_zone</span><span class="o">=</span><span class="n">line_zone</span><span class="p">,</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>            <span class="n">text_width</span><span class="o">=</span><span class="n">text_width</span><span class="p">,</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>            <span class="n">text_height</span><span class="o">=</span><span class="n">text_height</span><span class="p">,</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>            <span class="n">is_in_count</span><span class="o">=</span><span class="n">is_in_count</span><span class="p">,</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>            <span class="n">label_dimension</span><span class="o">=</span><span class="n">label_image</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>        <span class="p">)</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">overlay_image</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">label_image</span><span class="p">,</span> <span class="n">label_anchor</span><span class="p">)</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>        <span class="k">return</span> <span class="n">frame</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>    <span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>    <span class="k">def</span> <span class="nf">_make_label_image</span><span class="p">(</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>        <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>        <span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>        <span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>        <span class="n">text_padding</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>        <span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>        <span class="n">text_box_show</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>        <span class="n">text_box_color</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>        <span class="n">line_angle_degrees</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a><span class="sd">        Create the small text box displaying line zone count. E.g. &quot;out: 7&quot;.</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a><span class="sd">            text (str): The text to display.</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a><span class="sd">            text_scale (float): The scale of the text.</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a><span class="sd">            text_thickness (int): The thickness of the text.</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a><span class="sd">            text_padding (int): The padding around the text.</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a><span class="sd">            text_color (Color): The color of the text.</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a><span class="sd">            text_box_show (bool): Whether to display the text box.</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a><span class="sd">            text_box_color (Color): The color of the text box.</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="sd">            line_angle_degrees (float): The angle of the line in degrees.</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><span class="sd">            (np.ndarray): The label of shape (H, W, 4), in BGRA format.</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>        <span class="n">text_width</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>            <span class="n">text</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="n">text_scale</span><span class="p">,</span> <span class="n">text_thickness</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>        <span class="n">annotation_dim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="nb">max</span><span class="p">(</span><span class="n">text_width</span><span class="p">,</span> <span class="n">text_height</span><span class="p">)</span> <span class="o">+</span> <span class="n">text_padding</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">)</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>        <span class="n">annotation_shape</span> <span class="o">=</span> <span class="p">(</span><span class="n">annotation_dim</span><span class="p">,</span> <span class="n">annotation_dim</span><span class="p">)</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>        <span class="n">annotation_center</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">annotation_dim</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">annotation_dim</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>        <span class="n">annotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="o">*</span><span class="n">annotation_shape</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>        <span class="n">annotation_alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="o">*</span><span class="n">annotation_shape</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>        <span class="n">text_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>            <span class="n">text_anchor</span><span class="o">=</span><span class="n">annotation_center</span><span class="p">,</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>            <span class="n">text_scale</span><span class="o">=</span><span class="n">text_scale</span><span class="p">,</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>            <span class="n">text_thickness</span><span class="o">=</span><span class="n">text_thickness</span><span class="p">,</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>            <span class="n">text_padding</span><span class="o">=</span><span class="n">text_padding</span><span class="p">,</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>        <span class="p">)</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>        <span class="n">draw_text</span><span class="p">(</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>            <span class="n">scene</span><span class="o">=</span><span class="n">annotation</span><span class="p">,</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>            <span class="n">text_color</span><span class="o">=</span><span class="n">text_color</span><span class="p">,</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>            <span class="n">background_color</span><span class="o">=</span><span class="n">text_box_color</span> <span class="k">if</span> <span class="n">text_box_show</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>            <span class="o">**</span><span class="n">text_args</span><span class="p">,</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>        <span class="p">)</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>        <span class="n">draw_text</span><span class="p">(</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>            <span class="n">scene</span><span class="o">=</span><span class="n">annotation_alpha</span><span class="p">,</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>            <span class="n">text_color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>            <span class="n">background_color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span> <span class="k">if</span> <span class="n">text_box_show</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>            <span class="o">**</span><span class="n">text_args</span><span class="p">,</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>        <span class="p">)</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>        <span class="n">annotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">((</span><span class="n">annotation</span><span class="p">,</span> <span class="n">annotation_alpha</span><span class="p">))</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>        <span class="c1"># Make sure text is displayed upright</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>        <span class="k">if</span> <span class="mi">90</span> <span class="o">&lt;</span> <span class="n">line_angle_degrees</span> <span class="o">%</span> <span class="mi">360</span> <span class="o">&lt;</span> <span class="mi">270</span><span class="p">:</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>            <span class="n">annotation</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">annotation</span><span class="p">,</span> <span class="n">flipCode</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>        <span class="n">rotation_angle</span> <span class="o">=</span> <span class="o">-</span><span class="n">line_angle_degrees</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>        <span class="n">rotation_matrix</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getRotationMatrix2D</span><span class="p">(</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>            <span class="n">annotation_center</span><span class="o">.</span><span class="n">as_xy_float_tuple</span><span class="p">(),</span> <span class="n">rotation_angle</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>        <span class="p">)</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>        <span class="n">annotation</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">annotation</span><span class="p">,</span> <span class="n">rotation_matrix</span><span class="p">,</span> <span class="n">annotation_shape</span><span class="p">)</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>        <span class="k">return</span> <span class="n">annotation</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h2 id="supervision.detection.line_zone.LineZoneAnnotator-functions">Functions<a href="#supervision.detection.line_zone.LineZoneAnnotator-functions" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-function">


<h3 id="supervision.detection.line_zone.LineZoneAnnotator.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">text_thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">text_scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">text_offset</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">text_padding</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">custom_in_text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">custom_out_text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">display_in_count</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">display_out_count</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">display_text_box</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text_orient_to_line</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">text_centered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#supervision.detection.line_zone.LineZoneAnnotator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>A class for drawing the <code>LineZone</code> and its detected object count
on an image.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.thickness">thickness</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Line thickness.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.color">color</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.draw.color.Color" href="../../../utils/draw/#supervision.draw.color.Color">Color</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Line color.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_thickness">text_thickness</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Text thickness.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_color">text_color</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.draw.color.Color" href="../../../utils/draw/#supervision.draw.color.Color">Color</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Text color.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_scale">text_scale</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Text scale.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_offset">text_offset</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How far the text will be from the line.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_padding">text_padding</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The empty space in the text box, surrounding the text.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.custom_in_text">custom_in_text</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Write something else instead of "in".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.custom_out_text">custom_out_text</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Write something else instead of "out".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.display_in_count">display_in_count</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pass <code>False</code> to hide the "in" count.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.display_out_count">display_out_count</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pass <code>False</code> to hide the "out" count.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.display_text_box">display_text_box</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pass <code>False</code> to hide the text background box.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_orient_to_line">text_orient_to_line</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>⭐ Match text orientation to the line.
Recommended to set to <code>True</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.__init__.text_centered">text_centered</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pass <code>False</code> to disable text centering. Useful
when the label overlaps something important.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>    <span class="n">color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>    <span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>    <span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>    <span class="n">text_offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>    <span class="n">text_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>    <span class="n">custom_in_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="n">custom_out_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>    <span class="n">display_in_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span class="n">display_out_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="n">display_text_box</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span class="n">text_orient_to_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="n">text_centered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="p">):</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">    A class for drawing the `LineZone` and its detected object count</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">    on an image.</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">        thickness (int): Line thickness.</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">        color (Color): Line color.</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">        text_thickness (int): Text thickness.</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">        text_color (Color): Text color.</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">        text_scale (float): Text scale.</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">        text_offset (float): How far the text will be from the line.</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">        text_padding (int): The empty space in the text box, surrounding the text.</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">        custom_in_text (Optional[str]): Write something else instead of &quot;in&quot;.</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        custom_out_text (Optional[str]): Write something else instead of &quot;out&quot;.</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">        display_in_count (bool): Pass `False` to hide the &quot;in&quot; count.</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">        display_out_count (bool): Pass `False` to hide the &quot;out&quot; count.</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">        display_text_box (bool): Pass `False` to hide the text background box.</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">        text_orient_to_line (bool): ⭐ Match text orientation to the line.</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">            Recommended to set to `True`.</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">        text_centered (bool): Pass `False` to disable text centering. Useful</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">            when the label overlaps something important.</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">thickness</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">color</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">text_thickness</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">text_color</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">text_scale</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">text_offset</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">text_padding</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">in_text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">custom_in_text</span> <span class="k">if</span> <span class="n">custom_in_text</span> <span class="k">else</span> <span class="s2">&quot;in&quot;</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">out_text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">custom_out_text</span> <span class="k">if</span> <span class="n">custom_out_text</span> <span class="k">else</span> <span class="s2">&quot;out&quot;</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">display_in_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">display_in_count</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">display_out_count</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">display_out_count</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">display_text_box</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">display_text_box</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_orient_to_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">text_orient_to_line</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_centered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">text_centered</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="supervision.detection.line_zone.LineZoneAnnotator.annotate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">annotate</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">line_counter</span><span class="p">)</span></code>

<a href="#supervision.detection.line_zone.LineZoneAnnotator.annotate" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Draws the line on the frame using the line zone provided.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.annotate.frame">frame</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image on which the line will be drawn.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotator.annotate.line_counter">line_counter</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.detection.line_zone.LineZone" href="#supervision.detection.line_zone.LineZone">LineZone</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line zone
that will be used to draw the line.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image with the line drawn on it.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="k">def</span> <span class="nf">annotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">line_counter</span><span class="p">:</span> <span class="n">LineZone</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><span class="sd">    Draws the line on the frame using the line zone provided.</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><span class="sd">        frame (np.ndarray): The image on which the line will be drawn.</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><span class="sd">        line_counter (LineZone): The line zone</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="sd">            that will be used to draw the line.</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="sd">        (np.ndarray): The image with the line drawn on it.</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>    <span class="n">line_start</span> <span class="o">=</span> <span class="n">line_counter</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>    <span class="n">line_end</span> <span class="o">=</span> <span class="n">line_counter</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">as_xy_int_tuple</span><span class="p">()</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="n">cv2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>        <span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">line_start</span><span class="p">,</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>        <span class="n">line_end</span><span class="p">,</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="n">shift</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>    <span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>    <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>        <span class="n">line_start</span><span class="p">,</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>        <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>        <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>        <span class="n">thickness</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>    <span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>    <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>        <span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>        <span class="n">line_end</span><span class="p">,</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>        <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>        <span class="n">thickness</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>        <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="p">)</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="n">in_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">in_text</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_counter</span><span class="o">.</span><span class="n">in_count</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>    <span class="n">out_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">out_text</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_counter</span><span class="o">.</span><span class="n">out_count</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="n">line_angle_degrees</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_line_angle</span><span class="p">(</span><span class="n">line_counter</span><span class="p">)</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>    <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">is_shown</span><span class="p">,</span> <span class="n">is_in_count</span> <span class="ow">in</span> <span class="p">[</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>        <span class="p">(</span><span class="n">in_text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_in_count</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>        <span class="p">(</span><span class="n">out_text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_out_count</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="p">]:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_shown</span><span class="p">:</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>            <span class="k">continue</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="k">if</span> <span class="n">line_angle_degrees</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_orient_to_line</span><span class="p">:</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_draw_basic_label</span><span class="p">(</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                <span class="n">frame</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                <span class="n">line_center</span><span class="o">=</span><span class="n">line_counter</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                <span class="n">is_in_count</span><span class="o">=</span><span class="n">is_in_count</span><span class="p">,</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>            <span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_draw_oriented_label</span><span class="p">(</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                <span class="n">frame</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="n">line_zone</span><span class="o">=</span><span class="n">line_counter</span><span class="p">,</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>                <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                <span class="n">is_in_count</span><span class="o">=</span><span class="n">is_in_count</span><span class="p">,</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>            <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>    <span class="k">return</span> <span class="n">frame</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><div class="md-typeset">
  <h2>LineZoneAnnotatorMulticlass</h2>
</div>



<div class="doc doc-object doc-class">



<a id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass"></a>
    <div class="doc doc-contents first">







              <details class="quote">
                <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span>
<span class="normal"><a href="#__codelineno-0-798">798</a></span>
<span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span>
<span class="normal"><a href="#__codelineno-0-812">812</a></span>
<span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span>
<span class="normal"><a href="#__codelineno-0-826">826</a></span>
<span class="normal"><a href="#__codelineno-0-827">827</a></span>
<span class="normal"><a href="#__codelineno-0-828">828</a></span>
<span class="normal"><a href="#__codelineno-0-829">829</a></span>
<span class="normal"><a href="#__codelineno-0-830">830</a></span>
<span class="normal"><a href="#__codelineno-0-831">831</a></span>
<span class="normal"><a href="#__codelineno-0-832">832</a></span>
<span class="normal"><a href="#__codelineno-0-833">833</a></span>
<span class="normal"><a href="#__codelineno-0-834">834</a></span>
<span class="normal"><a href="#__codelineno-0-835">835</a></span>
<span class="normal"><a href="#__codelineno-0-836">836</a></span>
<span class="normal"><a href="#__codelineno-0-837">837</a></span>
<span class="normal"><a href="#__codelineno-0-838">838</a></span>
<span class="normal"><a href="#__codelineno-0-839">839</a></span>
<span class="normal"><a href="#__codelineno-0-840">840</a></span>
<span class="normal"><a href="#__codelineno-0-841">841</a></span>
<span class="normal"><a href="#__codelineno-0-842">842</a></span>
<span class="normal"><a href="#__codelineno-0-843">843</a></span>
<span class="normal"><a href="#__codelineno-0-844">844</a></span>
<span class="normal"><a href="#__codelineno-0-845">845</a></span>
<span class="normal"><a href="#__codelineno-0-846">846</a></span>
<span class="normal"><a href="#__codelineno-0-847">847</a></span>
<span class="normal"><a href="#__codelineno-0-848">848</a></span>
<span class="normal"><a href="#__codelineno-0-849">849</a></span>
<span class="normal"><a href="#__codelineno-0-850">850</a></span>
<span class="normal"><a href="#__codelineno-0-851">851</a></span>
<span class="normal"><a href="#__codelineno-0-852">852</a></span>
<span class="normal"><a href="#__codelineno-0-853">853</a></span>
<span class="normal"><a href="#__codelineno-0-854">854</a></span>
<span class="normal"><a href="#__codelineno-0-855">855</a></span>
<span class="normal"><a href="#__codelineno-0-856">856</a></span>
<span class="normal"><a href="#__codelineno-0-857">857</a></span>
<span class="normal"><a href="#__codelineno-0-858">858</a></span>
<span class="normal"><a href="#__codelineno-0-859">859</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-700" name="__codelineno-0-700"></a><span class="k">class</span> <span class="nc">LineZoneAnnotatorMulticlass</span><span class="p">:</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>        <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>        <span class="n">table_position</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>        <span class="p">]</span> <span class="o">=</span> <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>        <span class="n">table_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>        <span class="n">table_margin</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>        <span class="n">table_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>        <span class="n">table_max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>        <span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>        <span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>        <span class="n">force_draw_class_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>    <span class="p">):</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a><span class="sd">        Draw a table showing how many items of each class crossed each line.</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">            table_position (Position): The position of the table.</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a><span class="sd">            table_color (Color): The color of the table.</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">            table_margin (int): The margin of the table from the image border.</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">            table_padding (int): The padding of the table.</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a><span class="sd">            table_max_width (int): The maximum width of the table.</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">            text_color (Color): The color of the text.</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">            text_scale (float): The scale of the text.</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">            text_thickness (int): The thickness of the text.</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><span class="sd">            force_draw_class_ids (bool): Instead of writing the class names,</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><span class="sd">                on the table, write the class IDs. E.g. instead of `person: 6`,</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><span class="sd">                write `0: 6`.</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>        <span class="k">if</span> <span class="n">table_position</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>        <span class="p">}:</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>                <span class="s2">&quot;Invalid table position. Supported values are:&quot;</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>                <span class="s2">&quot; TOP_LEFT, TOP_RIGHT, BOTTOM_LEFT, BOTTOM_RIGHT.&quot;</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>            <span class="p">)</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">table_position</span> <span class="o">=</span> <span class="n">table_position</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">table_color</span> <span class="o">=</span> <span class="n">table_color</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span> <span class="o">=</span> <span class="n">table_margin</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span> <span class="o">=</span> <span class="n">table_padding</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">table_max_width</span> <span class="o">=</span> <span class="n">table_max_width</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_color</span> <span class="o">=</span> <span class="n">text_color</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span> <span class="o">=</span> <span class="n">text_scale</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span> <span class="o">=</span> <span class="n">text_thickness</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">force_draw_class_ids</span> <span class="o">=</span> <span class="n">force_draw_class_ids</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a>    <span class="k">def</span> <span class="nf">annotate</span><span class="p">(</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>        <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a>        <span class="n">line_zones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineZone</span><span class="p">],</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a>        <span class="n">line_zone_labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">        Draws a table with the number of objects of each class that crossed each line.</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><span class="sd">        Attributes:</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><span class="sd">            frame (np.ndarray): The image on which the table will be drawn.</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a><span class="sd">            line_zones (List[LineZone]): The line zones to be annotated.</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a><span class="sd">            line_zone_labels (Optional[List[str]]): The labels, one for each</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a><span class="sd">                line zone. If not provided, the default labels will be used.</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a><span class="sd">            (np.ndarray): The image with the table drawn on it.</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>        <span class="k">if</span> <span class="n">line_zone_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>            <span class="n">line_zone_labels</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Line </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">:&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line_zones</span><span class="p">))]</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_zones</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_zone_labels</span><span class="p">):</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of line zones and their labels must match.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>        <span class="n">text_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Line Crossings:&quot;</span><span class="p">]</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>        <span class="k">for</span> <span class="n">line_zone</span><span class="p">,</span> <span class="n">line_zone_label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">line_zones</span><span class="p">,</span> <span class="n">line_zone_labels</span><span class="p">):</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>            <span class="n">text_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line_zone_label</span><span class="p">)</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>            <span class="n">class_id_to_name</span> <span class="o">=</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">class_id_to_name</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a>            <span class="k">for</span> <span class="n">direction</span><span class="p">,</span> <span class="n">count_per_class</span> <span class="ow">in</span> <span class="p">[</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>                <span class="p">(</span><span class="s2">&quot;In&quot;</span><span class="p">,</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">in_count_per_class</span><span class="p">),</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>                <span class="p">(</span><span class="s2">&quot;Out&quot;</span><span class="p">,</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">out_count_per_class</span><span class="p">),</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a>            <span class="p">]:</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">count_per_class</span><span class="p">:</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>                <span class="n">text_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>                <span class="k">for</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">count_per_class</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a>                    <span class="n">class_name</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>                        <span class="n">class_id_to_name</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">class_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">class_id</span><span class="p">))</span>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a>                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_draw_class_ids</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a>                        <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">class_id</span><span class="p">)</span>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a>                    <span class="p">)</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a>                    <span class="n">text_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a>        <span class="n">table_width</span><span class="p">,</span> <span class="n">table_height</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">text_lines</span><span class="p">:</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a>            <span class="n">text_width</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a>                <span class="n">line</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a>            <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a>            <span class="n">text_height</span> <span class="o">+=</span> <span class="n">TEXT_MARGIN</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a>            <span class="n">table_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">table_width</span><span class="p">,</span> <span class="n">text_width</span><span class="p">)</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a>            <span class="n">table_height</span> <span class="o">+=</span> <span class="n">text_height</span>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a>        <span class="n">table_width</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a>        <span class="n">table_height</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a>        <span class="n">table_max_height</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a>        <span class="n">table_height</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">table_height</span><span class="p">,</span> <span class="n">table_max_height</span><span class="p">)</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a>        <span class="n">table_width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">table_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_max_width</span><span class="p">)</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a>        <span class="n">position_map</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">),</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a>                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a>            <span class="p">),</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a>                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a>            <span class="p">),</span>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a>            <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a>                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a>                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a>            <span class="p">),</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a>        <span class="p">}</span>
<a id="__codelineno-0-831" name="__codelineno-0-831"></a>        <span class="n">table_x1</span><span class="p">,</span> <span class="n">table_y1</span> <span class="o">=</span> <span class="n">position_map</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">table_position</span><span class="p">]</span>
<a id="__codelineno-0-832" name="__codelineno-0-832"></a>
<a id="__codelineno-0-833" name="__codelineno-0-833"></a>        <span class="n">table_rect</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span>
<a id="__codelineno-0-834" name="__codelineno-0-834"></a>            <span class="n">x</span><span class="o">=</span><span class="n">table_x1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">table_y1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">table_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">table_height</span>
<a id="__codelineno-0-835" name="__codelineno-0-835"></a>        <span class="p">)</span>
<a id="__codelineno-0-836" name="__codelineno-0-836"></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">draw_rectangle</span><span class="p">(</span>
<a id="__codelineno-0-837" name="__codelineno-0-837"></a>            <span class="n">scene</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span> <span class="n">rect</span><span class="o">=</span><span class="n">table_rect</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_color</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=-</span><span class="mi">1</span>
<a id="__codelineno-0-838" name="__codelineno-0-838"></a>        <span class="p">)</span>
<a id="__codelineno-0-839" name="__codelineno-0-839"></a>
<a id="__codelineno-0-840" name="__codelineno-0-840"></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text_lines</span><span class="p">):</span>
<a id="__codelineno-0-841" name="__codelineno-0-841"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-842" name="__codelineno-0-842"></a>                <span class="n">line</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span>
<a id="__codelineno-0-843" name="__codelineno-0-843"></a>            <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-844" name="__codelineno-0-844"></a>            <span class="n">text_height</span> <span class="o">+=</span> <span class="n">TEXT_MARGIN</span>
<a id="__codelineno-0-845" name="__codelineno-0-845"></a>            <span class="n">anchor_x</span> <span class="o">=</span> <span class="n">table_x1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span>
<a id="__codelineno-0-846" name="__codelineno-0-846"></a>            <span class="n">anchor_y</span> <span class="o">=</span> <span class="n">table_y1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">text_height</span>
<a id="__codelineno-0-847" name="__codelineno-0-847"></a>
<a id="__codelineno-0-848" name="__codelineno-0-848"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span>
<a id="__codelineno-0-849" name="__codelineno-0-849"></a>                <span class="n">img</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-850" name="__codelineno-0-850"></a>                <span class="n">text</span><span class="o">=</span><span class="n">line</span><span class="p">,</span>
<a id="__codelineno-0-851" name="__codelineno-0-851"></a>                <span class="n">org</span><span class="o">=</span><span class="p">(</span><span class="n">anchor_x</span><span class="p">,</span> <span class="n">anchor_y</span><span class="p">),</span>
<a id="__codelineno-0-852" name="__codelineno-0-852"></a>                <span class="n">fontFace</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
<a id="__codelineno-0-853" name="__codelineno-0-853"></a>                <span class="n">fontScale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span>
<a id="__codelineno-0-854" name="__codelineno-0-854"></a>                <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-855" name="__codelineno-0-855"></a>                <span class="n">thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span><span class="p">,</span>
<a id="__codelineno-0-856" name="__codelineno-0-856"></a>                <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-857" name="__codelineno-0-857"></a>            <span class="p">)</span>
<a id="__codelineno-0-858" name="__codelineno-0-858"></a>
<a id="__codelineno-0-859" name="__codelineno-0-859"></a>        <span class="k">return</span> <span class="n">frame</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h2 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass-functions">Functions<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass-functions" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-function">


<h3 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">table_position</span><span class="o">=</span><span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span> <span class="n">table_color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">table_margin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">table_padding</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">table_max_width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">text_scale</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">text_thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">force_draw_class_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Draw a table showing how many items of each class crossed each line.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_position)" class="doc doc-heading doc-heading-parameter">                  <code>table_position</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_position)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.geometry.core.Position" href="../../../utils/geometry/#supervision.geometry.core.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of the table.</p>
              </div>
            </td>
            <td>
                  <code><span title="supervision.geometry.core.Position.TOP_RIGHT">TOP_RIGHT</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_color)" class="doc doc-heading doc-heading-parameter">                  <code>table_color</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_color)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.draw.color.Color" href="../../../utils/draw/#supervision.draw.color.Color">Color</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The color of the table.</p>
              </div>
            </td>
            <td>
                  <code><span title="supervision.draw.color.Color.WHITE">WHITE</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_margin)" class="doc doc-heading doc-heading-parameter">                  <code>table_margin</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_margin)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The margin of the table from the image border.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_padding)" class="doc doc-heading doc-heading-parameter">                  <code>table_padding</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_padding)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The padding of the table.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_max_width)" class="doc doc-heading doc-heading-parameter">                  <code>table_max_width</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(table_max_width)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum width of the table.</p>
              </div>
            </td>
            <td>
                  <code>400</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_color)" class="doc doc-heading doc-heading-parameter">                  <code>text_color</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_color)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="supervision.draw.color.Color" href="../../../utils/draw/#supervision.draw.color.Color">Color</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The color of the text.</p>
              </div>
            </td>
            <td>
                  <code><span title="supervision.draw.color.Color.BLACK">BLACK</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_scale)" class="doc doc-heading doc-heading-parameter">                  <code>text_scale</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_scale)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The scale of the text.</p>
              </div>
            </td>
            <td>
                  <code>0.75</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_thickness)" class="doc doc-heading doc-heading-parameter">                  <code>text_thickness</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(text_thickness)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The thickness of the text.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(force_draw_class_ids)" class="doc doc-heading doc-heading-parameter">                  <code>force_draw_class_ids</code>
<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.__init__(force_draw_class_ids)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Instead of writing the class names,
on the table, write the class IDs. E.g. instead of <code>person: 6</code>,
write <code>0: 6</code>.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-701" name="__codelineno-0-701"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>    <span class="n">table_position</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>    <span class="p">]</span> <span class="o">=</span> <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>    <span class="n">table_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>    <span class="n">table_margin</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>    <span class="n">table_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>    <span class="n">table_max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>    <span class="n">text_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>    <span class="n">text_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>    <span class="n">text_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>    <span class="n">force_draw_class_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a><span class="p">):</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a><span class="sd">    Draw a table showing how many items of each class crossed each line.</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">        table_position (Position): The position of the table.</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a><span class="sd">        table_color (Color): The color of the table.</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">        table_margin (int): The margin of the table from the image border.</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">        table_padding (int): The padding of the table.</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a><span class="sd">        table_max_width (int): The maximum width of the table.</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">        text_color (Color): The color of the text.</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">        text_scale (float): The scale of the text.</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">        text_thickness (int): The thickness of the text.</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><span class="sd">        force_draw_class_ids (bool): Instead of writing the class names,</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><span class="sd">            on the table, write the class IDs. E.g. instead of `person: 6`,</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><span class="sd">            write `0: 6`.</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>    <span class="k">if</span> <span class="n">table_position</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>    <span class="p">}:</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>            <span class="s2">&quot;Invalid table position. Supported values are:&quot;</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>            <span class="s2">&quot; TOP_LEFT, TOP_RIGHT, BOTTOM_LEFT, BOTTOM_RIGHT.&quot;</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>        <span class="p">)</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">table_position</span> <span class="o">=</span> <span class="n">table_position</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">table_color</span> <span class="o">=</span> <span class="n">table_color</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span> <span class="o">=</span> <span class="n">table_margin</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span> <span class="o">=</span> <span class="n">table_padding</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">table_max_width</span> <span class="o">=</span> <span class="n">table_max_width</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_color</span> <span class="o">=</span> <span class="n">text_color</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span> <span class="o">=</span> <span class="n">text_scale</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span> <span class="o">=</span> <span class="n">text_thickness</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">force_draw_class_ids</span> <span class="o">=</span> <span class="n">force_draw_class_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">annotate</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">line_zones</span><span class="p">,</span> <span class="n">line_zone_labels</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Draws a table with the number of objects of each class that crossed each line.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate.frame">frame</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image on which the table will be drawn.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate.line_zones">line_zones</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="supervision.detection.line_zone.LineZone" href="#supervision.detection.line_zone.LineZone">LineZone</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line zones to be annotated.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="supervision.detection.line_zone.LineZoneAnnotatorMulticlass.annotate.line_zone_labels">line_zone_labels</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The labels, one for each
line zone. If not provided, the default labels will be used.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image with the table drawn on it.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>supervision/detection/line_zone.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span>
<span class="normal"><a href="#__codelineno-0-798">798</a></span>
<span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span>
<span class="normal"><a href="#__codelineno-0-812">812</a></span>
<span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span>
<span class="normal"><a href="#__codelineno-0-826">826</a></span>
<span class="normal"><a href="#__codelineno-0-827">827</a></span>
<span class="normal"><a href="#__codelineno-0-828">828</a></span>
<span class="normal"><a href="#__codelineno-0-829">829</a></span>
<span class="normal"><a href="#__codelineno-0-830">830</a></span>
<span class="normal"><a href="#__codelineno-0-831">831</a></span>
<span class="normal"><a href="#__codelineno-0-832">832</a></span>
<span class="normal"><a href="#__codelineno-0-833">833</a></span>
<span class="normal"><a href="#__codelineno-0-834">834</a></span>
<span class="normal"><a href="#__codelineno-0-835">835</a></span>
<span class="normal"><a href="#__codelineno-0-836">836</a></span>
<span class="normal"><a href="#__codelineno-0-837">837</a></span>
<span class="normal"><a href="#__codelineno-0-838">838</a></span>
<span class="normal"><a href="#__codelineno-0-839">839</a></span>
<span class="normal"><a href="#__codelineno-0-840">840</a></span>
<span class="normal"><a href="#__codelineno-0-841">841</a></span>
<span class="normal"><a href="#__codelineno-0-842">842</a></span>
<span class="normal"><a href="#__codelineno-0-843">843</a></span>
<span class="normal"><a href="#__codelineno-0-844">844</a></span>
<span class="normal"><a href="#__codelineno-0-845">845</a></span>
<span class="normal"><a href="#__codelineno-0-846">846</a></span>
<span class="normal"><a href="#__codelineno-0-847">847</a></span>
<span class="normal"><a href="#__codelineno-0-848">848</a></span>
<span class="normal"><a href="#__codelineno-0-849">849</a></span>
<span class="normal"><a href="#__codelineno-0-850">850</a></span>
<span class="normal"><a href="#__codelineno-0-851">851</a></span>
<span class="normal"><a href="#__codelineno-0-852">852</a></span>
<span class="normal"><a href="#__codelineno-0-853">853</a></span>
<span class="normal"><a href="#__codelineno-0-854">854</a></span>
<span class="normal"><a href="#__codelineno-0-855">855</a></span>
<span class="normal"><a href="#__codelineno-0-856">856</a></span>
<span class="normal"><a href="#__codelineno-0-857">857</a></span>
<span class="normal"><a href="#__codelineno-0-858">858</a></span>
<span class="normal"><a href="#__codelineno-0-859">859</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="k">def</span> <span class="nf">annotate</span><span class="p">(</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>    <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a>    <span class="n">line_zones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineZone</span><span class="p">],</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a>    <span class="n">line_zone_labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">    Draws a table with the number of objects of each class that crossed each line.</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><span class="sd">        frame (np.ndarray): The image on which the table will be drawn.</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a><span class="sd">        line_zones (List[LineZone]): The line zones to be annotated.</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a><span class="sd">        line_zone_labels (Optional[List[str]]): The labels, one for each</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a><span class="sd">            line zone. If not provided, the default labels will be used.</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a><span class="sd">        (np.ndarray): The image with the table drawn on it.</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>    <span class="k">if</span> <span class="n">line_zone_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>        <span class="n">line_zone_labels</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Line </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">:&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line_zones</span><span class="p">))]</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_zones</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_zone_labels</span><span class="p">):</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of line zones and their labels must match.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>    <span class="n">text_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Line Crossings:&quot;</span><span class="p">]</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>    <span class="k">for</span> <span class="n">line_zone</span><span class="p">,</span> <span class="n">line_zone_label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">line_zones</span><span class="p">,</span> <span class="n">line_zone_labels</span><span class="p">):</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>        <span class="n">text_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line_zone_label</span><span class="p">)</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>        <span class="n">class_id_to_name</span> <span class="o">=</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">class_id_to_name</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a>        <span class="k">for</span> <span class="n">direction</span><span class="p">,</span> <span class="n">count_per_class</span> <span class="ow">in</span> <span class="p">[</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>            <span class="p">(</span><span class="s2">&quot;In&quot;</span><span class="p">,</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">in_count_per_class</span><span class="p">),</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>            <span class="p">(</span><span class="s2">&quot;Out&quot;</span><span class="p">,</span> <span class="n">line_zone</span><span class="o">.</span><span class="n">out_count_per_class</span><span class="p">),</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a>        <span class="p">]:</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">count_per_class</span><span class="p">:</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>                <span class="k">continue</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>            <span class="n">text_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>            <span class="k">for</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">count_per_class</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a>                <span class="n">class_name</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>                    <span class="n">class_id_to_name</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">class_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">class_id</span><span class="p">))</span>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_draw_class_ids</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a>                    <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">class_id</span><span class="p">)</span>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a>                <span class="p">)</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a>                <span class="n">text_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a>    <span class="n">table_width</span><span class="p">,</span> <span class="n">table_height</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">text_lines</span><span class="p">:</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a>        <span class="n">text_width</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a>            <span class="n">line</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a>        <span class="n">text_height</span> <span class="o">+=</span> <span class="n">TEXT_MARGIN</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a>        <span class="n">table_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">table_width</span><span class="p">,</span> <span class="n">text_width</span><span class="p">)</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a>        <span class="n">table_height</span> <span class="o">+=</span> <span class="n">text_height</span>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a>    <span class="n">table_width</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a>    <span class="n">table_height</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a>    <span class="n">table_max_height</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a>    <span class="n">table_height</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">table_height</span><span class="p">,</span> <span class="n">table_max_height</span><span class="p">)</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a>    <span class="n">table_width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">table_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_max_width</span><span class="p">)</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a>    <span class="n">position_map</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">),</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a>            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a>        <span class="p">),</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a>            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a>        <span class="p">),</span>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a>        <span class="n">Position</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a>            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a>            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">table_height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_margin</span><span class="p">,</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a>        <span class="p">),</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a>    <span class="p">}</span>
<a id="__codelineno-0-831" name="__codelineno-0-831"></a>    <span class="n">table_x1</span><span class="p">,</span> <span class="n">table_y1</span> <span class="o">=</span> <span class="n">position_map</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">table_position</span><span class="p">]</span>
<a id="__codelineno-0-832" name="__codelineno-0-832"></a>
<a id="__codelineno-0-833" name="__codelineno-0-833"></a>    <span class="n">table_rect</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span>
<a id="__codelineno-0-834" name="__codelineno-0-834"></a>        <span class="n">x</span><span class="o">=</span><span class="n">table_x1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">table_y1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">table_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">table_height</span>
<a id="__codelineno-0-835" name="__codelineno-0-835"></a>    <span class="p">)</span>
<a id="__codelineno-0-836" name="__codelineno-0-836"></a>    <span class="n">frame</span> <span class="o">=</span> <span class="n">draw_rectangle</span><span class="p">(</span>
<a id="__codelineno-0-837" name="__codelineno-0-837"></a>        <span class="n">scene</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span> <span class="n">rect</span><span class="o">=</span><span class="n">table_rect</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_color</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=-</span><span class="mi">1</span>
<a id="__codelineno-0-838" name="__codelineno-0-838"></a>    <span class="p">)</span>
<a id="__codelineno-0-839" name="__codelineno-0-839"></a>
<a id="__codelineno-0-840" name="__codelineno-0-840"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text_lines</span><span class="p">):</span>
<a id="__codelineno-0-841" name="__codelineno-0-841"></a>        <span class="n">_</span><span class="p">,</span> <span class="n">text_height</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getTextSize</span><span class="p">(</span>
<a id="__codelineno-0-842" name="__codelineno-0-842"></a>            <span class="n">line</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span>
<a id="__codelineno-0-843" name="__codelineno-0-843"></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-844" name="__codelineno-0-844"></a>        <span class="n">text_height</span> <span class="o">+=</span> <span class="n">TEXT_MARGIN</span>
<a id="__codelineno-0-845" name="__codelineno-0-845"></a>        <span class="n">anchor_x</span> <span class="o">=</span> <span class="n">table_x1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span>
<a id="__codelineno-0-846" name="__codelineno-0-846"></a>        <span class="n">anchor_y</span> <span class="o">=</span> <span class="n">table_y1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_padding</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">text_height</span>
<a id="__codelineno-0-847" name="__codelineno-0-847"></a>
<a id="__codelineno-0-848" name="__codelineno-0-848"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span>
<a id="__codelineno-0-849" name="__codelineno-0-849"></a>            <span class="n">img</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
<a id="__codelineno-0-850" name="__codelineno-0-850"></a>            <span class="n">text</span><span class="o">=</span><span class="n">line</span><span class="p">,</span>
<a id="__codelineno-0-851" name="__codelineno-0-851"></a>            <span class="n">org</span><span class="o">=</span><span class="p">(</span><span class="n">anchor_x</span><span class="p">,</span> <span class="n">anchor_y</span><span class="p">),</span>
<a id="__codelineno-0-852" name="__codelineno-0-852"></a>            <span class="n">fontFace</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
<a id="__codelineno-0-853" name="__codelineno-0-853"></a>            <span class="n">fontScale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_scale</span><span class="p">,</span>
<a id="__codelineno-0-854" name="__codelineno-0-854"></a>            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="o">.</span><span class="n">as_bgr</span><span class="p">(),</span>
<a id="__codelineno-0-855" name="__codelineno-0-855"></a>            <span class="n">thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_thickness</span><span class="p">,</span>
<a id="__codelineno-0-856" name="__codelineno-0-856"></a>            <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
<a id="__codelineno-0-857" name="__codelineno-0-857"></a>        <span class="p">)</span>
<a id="__codelineno-0-858" name="__codelineno-0-858"></a>
<a id="__codelineno-0-859" name="__codelineno-0-859"></a>    <span class="k">return</span> <span class="n">frame</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 4, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 18, 2023</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/LinasKo" class="md-author" title="@LinasKo">
          
          <img src="https://avatars.githubusercontent.com/u/6500785?v=4&size=72" alt="LinasKo">
        </a>
      
        <a href="https://github.com/apps/pre-commit-ci" class="md-author" title="@pre-commit-ci[bot]">
          
          <img src="https://avatars.githubusercontent.com/in/68672?v=4&size=72" alt="pre-commit-ci[bot]">
        </a>
      
        <a href="https://github.com/SkalskiP" class="md-author" title="@SkalskiP">
          
          <img src="https://avatars.githubusercontent.com/u/26109316?v=4&size=72" alt="SkalskiP">
        </a>
      
        <a href="https://github.com/onuralpszr" class="md-author" title="@onuralpszr">
          
          <img src="https://avatars.githubusercontent.com/u/1688848?v=4&size=72" alt="onuralpszr">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  




<h2 id="__comments">Comments</h2>

<!-- Insert Giscus code snippet from https://giscus.app/ here -->
<script src="https://giscus.app/client.js"
        data-repo="roboflow/supervision"
        data-repo-id="R_kgDOIhIiww"
        data-category="Docs"
        data-category-id="DIC_kwDOIhIiw84Ccet_"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

<!-- Synchronize Giscus theme with palette -->
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
</script>

                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Roboflow 2024. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/roboflow" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/supervision" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/u/roboflow" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/roboflow" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/roboflow-ai/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/roboflow" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/GbfgXGJ8Bk" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "content.code.copy", "content.action.edit", "content.tooltips", "content.code.annotate", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="https://widget.kapa.ai/kapa-widget.bundle.js"></script>
      
        <script src="../../../javascripts/init_kapa_widget.js"></script>
      
        <script src="../../../javascripts/cookbooks-card.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
      
    
  </body>
</html>